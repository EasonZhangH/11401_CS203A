# LeetCode Daily 2025-12-04 ç­†è¨˜

## é¡Œç›®ï¼šCount Collisions on a Road (LeetCode 2211)

### é¡Œç›®æè¿°
- æœ‰ä¸€æ¢ç„¡é™é•·çš„é“è·¯ï¼Œä¸Šé¢æœ‰ `n` è¼›è»Šã€‚  
- æ¯è¼›è»Šçš„é€Ÿåº¦ç›¸åŒï¼Œæ–¹å‘ç”±å­—ä¸² `directions` è¡¨ç¤ºï¼š  
  - `'L'`ï¼šå¾€å·¦è¡Œé§›  
  - `'R'`ï¼šå¾€å³è¡Œé§›  
  - `'S'`ï¼šéœæ­¢ä¸å‹•  
- ç¢°æ’è¦å‰‡ï¼š  
  - `R` èˆ‡ `L` ç›¸æ’ â†’ ç¢°æ’æ¬¡æ•¸ +2ï¼Œå…©è»Šè®Šæˆ `S`ã€‚  
  - è¡Œé€²è»Š (`R` æˆ– `L`) æ’ä¸Šéœæ­¢è»Š (`S`) â†’ ç¢°æ’æ¬¡æ•¸ +1ï¼Œè¡Œé€²è»Šè®Šæˆ `S`ã€‚  
- è¦æ±‚å›å‚³ç¸½ç¢°æ’æ¬¡æ•¸ã€‚

---

### è§€å¯Ÿ
- è»Šé€Ÿç›¸åŒ â†’ ä¸æœƒè¿½æ’ï¼Œåªæœƒåœ¨ç›¸é‡æ™‚ç¢°æ’ã€‚  
- å¯ä»¥ç”¨ **Stack** æ¨¡æ“¬ç¢°æ’éç¨‹ï¼Œæˆ–ç”¨ **é›™æŒ‡é‡æƒææ³•**ç›´æ¥è¨ˆç®—ã€‚  

---

### ç¨‹å¼ç¢¼åšæ³•ä¸€ï¼šStack æ¨¡æ“¬æ³•
```cpp
class Solution {
public:
    int countCollisions(string directions) {
        stack<char> road;
        int collisions = 0;
        for(char c : directions) {
            if(c == 'L') {
                if(!road.empty()) {
                    char prev = road.top();
                    road.pop();
                    collisions += (prev == 'S') ? 1 : 2;
                    if(prev == 'R') {
                        collisions += road.size();
                        while(!road.empty()) road.pop(); // æ¸…ç©º stack
                    }
                    road.push('S');
                }
            }
            else if(c == 'R') {
                if(!road.empty() && road.top() == 'S') {
                    collisions += 1; // R æ’ä¸Š S
                    // R æ¶ˆå¤±ï¼Œä¸ push
                } else {
                    road.push('R');
                }
            }
            else { // c == 'S'
                if(!road.empty() && road.top() == 'R')
                    collisions += road.size();
                while(!road.empty()) road.pop(); // æ¸…ç©º stack
                road.push('S');
            }
        }
        return collisions;
    }
};
```

---

### ç¨‹å¼ç¢¼åšæ³•äºŒï¼šé›™æŒ‡é‡æƒææ³•
```cpp
class Solution {
public:
    int countCollisions(string directions) {
        int n = directions.size(), collisions = 0;
        int i = 0, j = n - 1;
        while(i < n && directions[i] == 'L')
            i++;
        while(j >= 0 && directions[j] == 'R')
            j--;
        if(j <= i) return 0;
        for(int idx = i; idx <= j; idx++)
            if(directions[idx] != 'S')
                collisions++;
        return collisions;
    }
};
```

---

### ğŸ’¡ è§£é¡Œæ€è·¯
- **Stack æ¨¡æ“¬æ³•**  
  - ç”¨ stack ä¿å­˜å³é‚Šçš„è»Šï¼Œé‡åˆ° L æˆ– S æ™‚åˆ¤æ–·ç¢°æ’ä¸¦æ›´æ–°æ¬¡æ•¸ã€‚  
  - æ¯æ¬¡ç¢°æ’å¾Œè»Šè¼›è®Šæˆ Sï¼Œé˜»æ“‹å¾ŒçºŒè»Šè¼›ã€‚  
- **é›™æŒ‡é‡æƒææ³•**  
  - å·¦é‚Šçš„ `L` æ°¸é ä¸æœƒæ’åˆ°ä»»ä½•äºº â†’ å¯ä»¥å¿½ç•¥ã€‚  
  - å³é‚Šçš„ `R` æ°¸é ä¸æœƒæ’åˆ°ä»»ä½•äºº â†’ å¯ä»¥å¿½ç•¥ã€‚  
  - ä¸­é–“å€é–“åªè¦ä¸æ˜¯ `S`ï¼Œä¸€å®šæœƒç™¼ç”Ÿç¢°æ’ â†’ ç›´æ¥çµ±è¨ˆå³å¯ã€‚  

---

### å„ªåŒ–æ–¹å‘
- **Stack æ³•**ï¼šé©åˆæ¨¡æ“¬éç¨‹ï¼Œèƒ½æ¸…æ¥šçœ‹åˆ°æ¯æ¬¡ç¢°æ’çš„ç‹€æ…‹ï¼Œä½†ç¨‹å¼è¼ƒè¤‡é›œã€‚  
- **é›™æŒ‡é‡æ³•**ï¼šç›´æ¥è¨ˆç®—ï¼Œç¨‹å¼ç°¡æ½”ï¼Œæ•ˆç‡æ›´é«˜ã€‚  

---

### æ™‚é–“è¤‡é›œåº¦
| åšæ³• | è¤‡é›œåº¦ |
|------|---------|
| Stack æ¨¡æ“¬æ³• | O(n) |
| é›™æŒ‡é‡æƒææ³• | O(n) |

---

### ç©ºé–“è¤‡é›œåº¦
| åšæ³• | è¤‡é›œåº¦ |
|------|---------|
| Stack æ¨¡æ“¬æ³• | O(n) |
| é›™æŒ‡é‡æƒææ³• | O(1) |

---

### å°çµ
- **Stack æ¨¡æ“¬æ³•**ï¼šç›´è§€ï¼Œé©åˆä¸€é–‹å§‹implementçš„æ–¹æ³•ï¼Œå¯ä»¥å¾ç¢°æ’è¦å‰‡ä¸‹å»æ€è€ƒï¼Œä¹Ÿæ¯”è¼ƒèƒ½ç†è§£ã€‚  
- **é›™æŒ‡é‡æƒææ³•**ï¼šç°¡æ½”é«˜æ•ˆï¼Œå¦‚æœè¦è¿½æ±‚è¼ƒå¥½çš„æ•ˆç‡è¡¨ç¾ã€‚  
- å…©ç¨®æ–¹æ³•éƒ½èƒ½æ­£ç¢ºè§£é¡Œï¼Œä½†é›™æŒ‡é‡æ–¹æ³•æ›´åŠ å¿«é€Ÿï¼Œå› ç‚ºçœç•¥äº†å¾ˆå¤šæ“ä½œã€‚  
---
