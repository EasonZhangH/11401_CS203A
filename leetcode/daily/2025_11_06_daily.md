# LeetCode Daily 2025/11/06 筆記

## 題目：Maximize the Minimum Powered City (LeetCode 2528)

### 題目描述
- 給定城市發電站陣列、覆蓋範圍 r 和可新增發電站數量 k
- 最大化所有城市中最小的電力供應

---

### 觀察
- 二分搜尋答案（最小電力值）
- 對每個候選值，貪心地在需要的位置放置發電站
- 使用滑動窗口計算每個城市的電力

---

### 程式碼 (C++)

```cpp
class Solution {
public:
    long long maxPower(vector<int>& stations, int r, int k) {
        long long window = 0;
        int cityNum = stations.size();
        long long power[100000]={0};
        for(int i = 0; i < cityNum; i++) {
            window += stations[i];
            if(i > r)
                window -= stations[i - r - 1];
            power[i] += window;
        }
        window = 0;
        for(int i = cityNum-1; i >= 0; i--) {
            if(cityNum - i - 1 > r)
                window -= stations[i + r + 1];
            power[i] += window;
            window += stations[i];
        }

        auto boundary = minmax_element(power, power + cityNum);
        long long minimum = *boundary.first, maximum = *boundary.second;
        long long lower = minimum, upper = maximum + k, middle;
        long long diff = 0, sum = 0;
        while(lower < upper) {
            vector<long long> temp(100000, 0);
            window = sum = 0;
            middle = (lower + upper + 1) >> 1;
            for(int i = 0; i < cityNum; i++) {
                if(i > r)
                    window -= temp[i - r - 1];
                if((window + power[i]) < middle) {
                    diff = middle - (window + power[i]);
                    temp[ min(i + r, cityNum - 1)] += diff;
                    window += diff;
                    sum += diff;
                }
            }
            if(sum > k)
                upper = middle - 1;
            else
                lower = middle;
        }
        return lower; 
    }
};
```
