# LeetCode Daily 2025/11/14 筆記

## 題目：Count Substrings That Satisfy K-Constraint II (LeetCode 3234)

### 題目描述
- 給定二進位字串 s
- 子字串需滿足：1 的數量 >= 0 的數量的平方
- 計算滿足條件的子字串數量

---

### 觀察
- 預處理每個位置下一個 0 的位置
- 對每個起點，枚舉 0 的數量
- 計算滿足條件的 1 的數量範圍

---

### 程式碼 (C++)

```cpp
class Solution {
public:
    int numberOfSubstrings(string s) {
        int n = s.size();
        vector<int> next(n + 1, 0);
        next[n] = n;
        for(int i = n - 1; i >= 0; i--) {
            next[i] = next[i + 1];
            if(s[i] == '0')
                next[i] = i;
        }

        int ans = 0;
        for(int i = 0; i < n; i++) {
            int cur0 = (s[i] == '0') ? 1 : 0;
            int j = i;
            while(j < n && 1LL*cur0*cur0 <= n) {
                int cur1 = next[j + 1] - i - cur0;
                if(cur1 >= cur0*cur0)
                    ans += min(next[j + 1]- j, cur1 - (cur0*cur0) + 1);
                j = next[j + 1];
                cur0++;
            }
        }
        return ans;
    }
};
```
