# LeetCode Daily 2025/11/20 筆記

## 題目：Unique Length-3 Palindromic Subsequences (LeetCode 1930)

### 題目描述
- 給定字串 s
- 計算長度為 3 的回文子序列數量
- 子序列不需要連續

---

### 觀察
- 枚舉兩側字元 i 和中間字元 j
- 記錄每個字元的所有出現位置
- 檢查是否存在 i...j...i 的結構

---

### 程式碼 (C++)

```cpp
class Solution {
public:
    int countPalindromicSubsequence(string s) {
        map<char, vector<int>> mp;
        for (int i = 0; i < s.size(); i++) {
            mp[s[i]].push_back(i);
        }
        
        int res = 0;
        
        for (char i = 'a'; i <= 'z'; i++) {
            for (char j = 'a'; j <= 'z'; j++) {
                
                if (i == j && mp[i].size() >= 3) {
                    res++;
                }
                else if (mp[i].size() >= 2 && mp[j].size() >= 1) {
                    vector<int>& side = mp[i];
                    vector<int>& mid = mp[j];
                    
                    int left = side.front();
                    int right = side.back();
                    
                    for (int idx : mid) {
                        if (idx > left && idx < right) {
                            res++;
                            break;
                        }
                    }
                }
            }
        }
        return res;
    }
};
```
