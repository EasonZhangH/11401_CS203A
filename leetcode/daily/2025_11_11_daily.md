# LeetCode Daily 2025/11/11 筆記

## 題目：Minimum Operations to Make All Array Elements Equal to 1 (LeetCode 2654)

### 題目描述
- 給定整數陣列 nums
- 每次操作可以選擇兩個相鄰元素，將其替換為它們的 GCD
- 求使所有元素變為 1 的最少操作次數

---

### 觀察
- 如果陣列 GCD 不為 1，則不可能達成目標
- 統計陣列中已有的 1 的數量
- 找出最短的子陣列，其 GCD 為 1
- 答案為：陣列長度 - 1 + 最短子陣列長度

---

### 程式碼 (C++)

```cpp
class Solution {
public:
    int GCD(int a, int b) {
        if(b == 0) return a;
        return GCD(b, a % b);
    }
    int minOperations(vector<int>& nums) {
        int cnt_one = 0, gcd = 0, minimum = 2147483647;
        for(int n : nums) {
            gcd = GCD(gcd, n);
            if(n == 1)
                cnt_one++;
        }
        if(gcd != 1) return -1;
        if(cnt_one) return nums.size() - cnt_one;

        for(int i = 0; i < nums.size(); i++) {
            gcd = nums[i];
            for(int j = i + 1; j < nums.size(); j++) {
                gcd = GCD(gcd, nums[j]);
                if(gcd == 1) {
                    minimum = min(minimum, j - i);
                    break;
                }
            }
        }
        return nums.size() - 1 + minimum;
    }
};
```
