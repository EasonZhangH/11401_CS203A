#  LeetCode Daily 2025-12-02 ç­†è¨˜

## é¡Œç›®ï¼šCount Number of Trapezoids I (LeetCode 3623)

### é¡Œç›®æè¿°
- çµ¦å®šä¸€çµ„é»ï¼Œè¨ˆç®—èƒ½å½¢æˆå¤šå°‘å€‹æ¢¯å½¢ã€‚
- æ¢¯å½¢çš„å½¢æˆæ¢ä»¶ï¼šå¿…é ˆæœ‰å…©æ¢å¹³è¡Œç·šæ®µï¼ˆç”±ç›¸åŒ y çš„é»çµ„æˆï¼‰ï¼Œå†æ­é…å…¶ä»– y çš„ç·šæ®µçµ„åˆã€‚
- å›å‚³æ¢¯å½¢çš„ç¸½æ•¸ï¼Œå–æ¨¡ 1e9+7ã€‚

---

### è§€å¯Ÿ
- å…ˆçµ±è¨ˆæ¯å€‹ y åº§æ¨™çš„é»æ•¸ã€‚
- æ¯å€‹ y èƒ½å½¢æˆçš„ç·šæ®µæ•¸é‡ç‚ºçµ„åˆå…¬å¼ï¼š`n * (n-1) / 2`ã€‚
- æœ€å¾Œè¦è¨ˆç®—æ‰€æœ‰ä¸åŒ y çš„ç·šæ®µçµ„åˆæ•¸é‡ã€‚
- ä½¿ç”¨å‰ç¶´å’ŒæŠ€å·§ï¼Œé¿å…æš´åŠ› O(k^2) è¨ˆç®—ã€‚

---

### ç¨‹å¼ç¢¼ (C++)
```cpp
using LL = long long;
class Solution {
public:
    static const LL MOD = 1e9 + 7;
    int countTrapezoids(vector<vector<int>>& points) {
        unordered_map<int,int> yton;
        for (auto& p : points) {
            yton[p[1]]++;
        }

        vector<int> uniqueY;
        uniqueY.reserve(yton.size());
        for (auto& kv : yton) uniqueY.push_back(kv.first);
        sort(uniqueY.begin(), uniqueY.end());

        vector<LL> cntL;
        cntL.reserve(uniqueY.size());
        for (int y : uniqueY) {
            LL n = yton[y];
            LL c = (n * (n - 1) / 2) % MOD;
            cntL.push_back(c);
        }

        LL ans = 0, prefix = 0;
        for (LL l : cntL) {
            ans = (ans + l * prefix) % MOD;
            prefix = (prefix + l) % MOD;
        }
        return (int)ans;
```
---

### ğŸ’¡ è§£é¡Œæ€è·¯
- çµ±è¨ˆæ¯å€‹ `y` åº§æ¨™çš„é»æ•¸
- è¨ˆç®—è©² `y` èƒ½å½¢æˆå¤šå°‘æ¢ç·šæ®µï¼ˆçµ„åˆæ•¸å…¬å¼ï¼šn * (n-1)/2ï¼‰
- ä½¿ç”¨å‰ç¶´å’ŒæŠ€å·§ï¼Œé¿å…æš´åŠ› O(k^2) è¨ˆç®—
- æœ€çµ‚å…¬å¼ï¼š
  \[
  ans = \sum (prefix \cdot current)
  \]

---
###  å„ªåŒ–æ–¹å‘
- **è³‡æ–™çµæ§‹**: `map<int,int>` â†’ `unordered_map<int,int>`  
- **è¨˜æ†¶é«”ç®¡ç†**: ä½¿ç”¨ `reserve` é å…ˆåˆ†é… vector ç©ºé–“  
- **å‹åˆ¥ä¸€è‡´æ€§**: ä½¿ç”¨ `LL` é¿å…éš±å¼è½‰æ›  
- **ç¨‹å¼é¢¨æ ¼**: åŠ ä¸Š `const` ä¿®é£¾ï¼Œæå‡ç·¨è­¯å™¨å„ªåŒ–å¯èƒ½æ€§  

---

### æ™‚é–“è¤‡é›œåº¦
| æ­¥é©Ÿ | è¤‡é›œåº¦ |
|------|---------|
| çµ±è¨ˆ y å‡ºç¾æ¬¡æ•¸ | O(n) |
| æ’åº uniqueY | O(k log k) |
| è¨ˆç®—çµ„åˆæ•¸ | O(k) |
| å‰ç¶´å’Œè¨ˆç®— | O(k) |
| **ç¸½è¨ˆ** | O(n + k log k) |

---

### ç©ºé–“è¤‡é›œåº¦
- `unordered_map<int,int>`: O(k)  
- `uniqueY`: O(k)  
- `cntL`: O(k)  
- **ç¸½è¨ˆ**: O(k)

---

### å°çµ
- ä½¿ç”¨ **å‰ç¶´å’Œ** é™ä½è¤‡é›œåº¦  
- ä½¿ç”¨ **unordered_map** æå‡æŸ¥è©¢æ•ˆç‡  
- æ•´é«”æ™‚é–“è¤‡é›œåº¦ï¼šO(n + k log k)  
- æ•´é«”ç©ºé–“è¤‡é›œåº¦ï¼šO(k)  
```
